const s=a=>{if(a.length)return Math.min(...a)},n=a=>{if(a.length)return Math.max(...a)},u=()=>{let a=document.getElementsByClassName("facet");Array.from(a).forEach(e=>{e.getElementsByClassName("collapse")[0].addEventListener("click",l=>{e.classList.toggle("collapsed")})})},d=()=>{let a=document.getElementsByClassName("facet");Array.from(a).forEach(e=>{let t=e.getElementsByClassName("show-all")[0];t&&t.addEventListener("click",l=>{l.preventDefault(),e.classList.toggle("show-all");let r=e.getElementsByTagName("p");Array.from(r).forEach(o=>{o.classList.remove("hide")}),t.classList.add("hide")})})},i=()=>{let a=document.querySelector(".date-filter-form"),e=document.querySelector("input[name='year_min']"),t=document.querySelector("input[name='year_max']");if(!e.value||!t.value){let l=document.querySelectorAll(".facet p[data-year]"),r=[];Array.from(l).forEach(m=>{r.push(m.dataset.year)});let o=s(r),c=n(r);e.value=o,t.value=c}if(e.value<1895||e.value>1950||t.value<1895||t.value>1950){let l=e.value,r=t.value;e.value=s([n([l,1895]),1950]),t.value=s([n([r,1895]),1950])}a.addEventListener("submit",l=>{l.preventDefault(),l.stopPropagation()})},g=()=>{document.getElementById("results-sort").addEventListener("change",e=>{let t=e.target.value;window.location.href=t}),u(),i(),d()};document.addEventListener("DOMContentLoaded",g);
