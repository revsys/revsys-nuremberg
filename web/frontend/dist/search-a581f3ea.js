import{a as L,r as u,j as f,c as D,R as G}from"./index-583bd3f0.js";/**
 * @remix-run/router v1.3.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},w.apply(this,arguments)}var S;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(S||(S={}));const M="popstate";function H(e){e===void 0&&(e={});function t(a,n){let{pathname:o,search:l,hash:s}=a.location;return N("",{pathname:o,search:l,hash:s},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:V(n)}return _(t,r,null,e)}function x(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function K(){return Math.random().toString(36).substr(2,8)}function W(e,t){return{usr:e.state,key:e.key,idx:t}}function N(e,t,r,a){return r===void 0&&(r=null),w({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?C(t):t,{state:r,key:t&&t.key||a||K()})}function V(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function C(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function _(e,t,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:o=!1}=a,l=n.history,s=S.Pop,i=null,h=v();h==null&&(h=0,l.replaceState(w({},l.state,{idx:h}),""));function v(){return(l.state||{idx:null}).idx}function g(){s=S.Pop;let c=v(),d=c==null?null:c-h;h=c,i&&i({action:s,location:p.location,delta:d})}function y(c,d){s=S.Push;let m=N(p.location,c,d);r&&r(m,c),h=v()+1;let j=W(m,h),b=p.createHref(m);try{l.pushState(j,"",b)}catch(Ce){n.location.assign(b)}o&&i&&i({action:s,location:p.location,delta:1})}function E(c,d){s=S.Replace;let m=N(p.location,c,d);r&&r(m,c),h=v();let j=W(m,h),b=p.createHref(m);l.replaceState(j,"",b),o&&i&&i({action:s,location:p.location,delta:0})}function P(c){let d=n.location.origin!=="null"?n.location.origin:n.location.href,m=typeof c=="string"?c:V(c);return x(d,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,d)}let p={get action(){return s},get location(){return e(n,l)},listen(c){if(i)throw new Error("A history only accepts one active listener");return n.addEventListener(M,g),i=c,()=>{n.removeEventListener(M,g),i=null}},createHref(c){return t(n,c)},createURL:P,encodeLocation(c){let d=P(c);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:y,replace:E,go(c){return l.go(c)}};return p}var A;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(A||(A={}));function Q(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function X(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?C(e):e;return{pathname:r?r.startsWith("/")?r:Y(r,t):t,search:re(a),hash:ne(n)}}function Y(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function R(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ee(e,t,r,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=C(e):(n=w({},e),x(!n.pathname||!n.pathname.includes("?"),R("?","pathname","search",n)),x(!n.pathname||!n.pathname.includes("#"),R("#","pathname","hash",n)),x(!n.search||!n.search.includes("#"),R("#","search","hash",n)));let o=e===""||n.pathname==="",l=o?"/":n.pathname,s;if(a||l==null)s=r;else{let g=t.length-1;if(l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;n.pathname=y.join("/")}s=g>=0?t[g]:"/"}let i=X(n,s),h=l&&l!=="/"&&l.endsWith("/"),v=(o||l===".")&&r.endsWith("/");return!i.pathname.endsWith("/")&&(h||v)&&(i.pathname+="/"),i}const te=e=>e.join("/").replace(/\/\/+/g,"/"),re=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ne=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,ae=["post","put","patch","delete"];[...ae];/**
 * React Router v6.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function se(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const oe=typeof Object.is=="function"?Object.is:se,{useState:le,useEffect:ie,useLayoutEffect:ce,useDebugValue:ue}=L;function he(e,t,r){const a=t(),[{inst:n},o]=le({inst:{value:a,getSnapshot:t}});return ce(()=>{n.value=a,n.getSnapshot=t,U(n)&&o({inst:n})},[e,a,t]),ie(()=>(U(n)&&o({inst:n}),e(()=>{U(n)&&o({inst:n})})),[e]),ue(a),a}function U(e){const t=e.getSnapshot,r=e.value;try{const a=t();return!oe(r,a)}catch(a){return!0}}function fe(e,t,r){return t()}const de=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",pe=!de,me=pe?fe:he;"useSyncExternalStore"in L&&(e=>e.useSyncExternalStore)(L);const J=u.createContext(null),B=u.createContext(null),ve=u.createContext({outlet:null,matches:[]});function I(){return u.useContext(B)!=null}function z(){return I()||x(!1),u.useContext(B).location}function ge(){I()||x(!1);let{basename:e,navigator:t}=u.useContext(J),{matches:r}=u.useContext(ve),{pathname:a}=z(),n=JSON.stringify(Z(r).map(s=>s.pathnameBase)),o=u.useRef(!1);return u.useEffect(()=>{o.current=!0}),u.useCallback(function(s,i){if(i===void 0&&(i={}),!o.current)return;if(typeof s=="number"){t.go(s);return}let h=ee(s,JSON.parse(n),a,i.relative==="path");e!=="/"&&(h.pathname=h.pathname==="/"?e:te([e,h.pathname])),(i.replace?t.replace:t.push)(h,i.state,i)},[e,t,n,a])}var k;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(k||(k={}));var q;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(q||(q={}));function ye(e){let{basename:t="/",children:r=null,location:a,navigationType:n=S.Pop,navigator:o,static:l=!1}=e;I()&&x(!1);let s=t.replace(/^\/*/,"/"),i=u.useMemo(()=>({basename:s,navigator:o,static:l}),[s,o,l]);typeof a=="string"&&(a=C(a));let{pathname:h="/",search:v="",hash:g="",state:y=null,key:E="default"}=a,P=u.useMemo(()=>{let p=Q(h,s);return p==null?null:{pathname:p,search:v,hash:g,state:y,key:E}},[s,h,v,g,y,E]);return P==null?null:u.createElement(J.Provider,{value:i},u.createElement(B.Provider,{children:r,value:{location:P,navigationType:n}}))}var F;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(F||(F={}));new Promise(()=>{});/**
 * React Router DOM v6.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function O(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function Se(e,t){let r=O(e);if(t)for(let a of t.keys())r.has(a)||t.getAll(a).forEach(n=>{r.append(a,n)});return r}function xe(e){let{basename:t,children:r,window:a}=e,n=u.useRef();n.current==null&&(n.current=H({window:a,v5Compat:!0}));let o=n.current,[l,s]=u.useState({action:o.action,location:o.location});return u.useLayoutEffect(()=>o.listen(s),[o]),u.createElement(ye,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o})}var $;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})($||($={}));var T;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(T||(T={}));function Pe(e){let t=u.useRef(O(e)),r=u.useRef(!1),a=z(),n=u.useMemo(()=>Se(a.search,r.current?null:t.current),[a.search]),o=ge(),l=u.useCallback((s,i)=>{const h=O(typeof s=="function"?s(n):s);r.current=!0,o("?"+h,i)},[o,n]);return[n,l]}const we=e=>{console.log("Resetting..."),document.getElementById("main-search-form").reset(),document.getElementById("date-filter-form").reset(),e({q:""}),window.location.reload(!1)},Ee=e=>{const{query:t,url:r,setParams:a}=e;return f.jsx("form",{className:"results-search",id:"main-search-form",role:"search","aria-label":"full-text search",action:r,method:"GET",children:f.jsxs("div",{className:"search-bar-wrapper",children:[f.jsx("input",{type:"search",name:"q",title:"Search query",defaultValue:t}),f.jsxs("div",{className:"button-wrapper",children:[f.jsx("button",{className:"clear-search",type:"reset",onClick:()=>we(a),children:"Clear"}),f.jsx("button",{className:"button search-button",type:"submit",children:"Search"})]})]})})},be=e=>{const[t,r]=Pe();return f.jsxs("section",{role:"search","aria-label":"Search the archive",className:"theme-beige thin",children:[f.jsx("h1",{className:"h4",children:"Search the archive"}),f.jsxs("div",{className:"full-width",children:[f.jsx(Ee,{query:t.get("q"),setParams:r}),f.jsx("div",{className:"show-advanced-search",children:f.jsx("a",{children:"Advanced Search"})})]})]})};D.createRoot(document.getElementById("search")).render(f.jsx(G.StrictMode,{children:f.jsx(xe,{children:f.jsx(be,{})})}));
