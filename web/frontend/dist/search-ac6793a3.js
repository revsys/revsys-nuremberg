import{a as L,r as u,j as f,c as D,R as G}from"./index-583bd3f0.js";/**
 * @remix-run/router v1.3.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w.apply(this,arguments)}var S;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(S||(S={}));const M="popstate";function H(e){e===void 0&&(e={});function t(a,r){let{pathname:o,search:l,hash:s}=a.location;return N("",{pathname:o,search:l,hash:s},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:V(r)}return _(t,n,null,e)}function x(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function K(){return Math.random().toString(36).substr(2,8)}function W(e,t){return{usr:e.state,key:e.key,idx:t}}function N(e,t,n,a){return n===void 0&&(n=null),w({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?C(t):t,{state:n,key:t&&t.key||a||K()})}function V(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function C(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function _(e,t,n,a){a===void 0&&(a={});let{window:r=document.defaultView,v5Compat:o=!1}=a,l=r.history,s=S.Pop,i=null,h=v();h==null&&(h=0,l.replaceState(w({},l.state,{idx:h}),""));function v(){return(l.state||{idx:null}).idx}function g(){s=S.Pop;let c=v(),d=c==null?null:c-h;h=c,i&&i({action:s,location:p.location,delta:d})}function y(c,d){s=S.Push;let m=N(p.location,c,d);n&&n(m,c),h=v()+1;let b=W(m,h),j=p.createHref(m);try{l.pushState(b,"",j)}catch(Ce){r.location.assign(j)}o&&i&&i({action:s,location:p.location,delta:1})}function E(c,d){s=S.Replace;let m=N(p.location,c,d);n&&n(m,c),h=v();let b=W(m,h),j=p.createHref(m);l.replaceState(b,"",j),o&&i&&i({action:s,location:p.location,delta:0})}function P(c){let d=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof c=="string"?c:V(c);return x(d,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,d)}let p={get action(){return s},get location(){return e(r,l)},listen(c){if(i)throw new Error("A history only accepts one active listener");return r.addEventListener(M,g),i=c,()=>{r.removeEventListener(M,g),i=null}},createHref(c){return t(r,c)},createURL:P,encodeLocation(c){let d=P(c);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:y,replace:E,go(c){return l.go(c)}};return p}var A;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(A||(A={}));function Q(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function X(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:r=""}=typeof e=="string"?C(e):e;return{pathname:n?n.startsWith("/")?n:Y(n,t):t,search:ne(a),hash:re(r)}}function Y(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function R(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ee(e,t,n,a){a===void 0&&(a=!1);let r;typeof e=="string"?r=C(e):(r=w({},e),x(!r.pathname||!r.pathname.includes("?"),R("?","pathname","search",r)),x(!r.pathname||!r.pathname.includes("#"),R("#","pathname","hash",r)),x(!r.search||!r.search.includes("#"),R("#","search","hash",r)));let o=e===""||r.pathname==="",l=o?"/":r.pathname,s;if(a||l==null)s=n;else{let g=t.length-1;if(l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}s=g>=0?t[g]:"/"}let i=X(r,s),h=l&&l!=="/"&&l.endsWith("/"),v=(o||l===".")&&n.endsWith("/");return!i.pathname.endsWith("/")&&(h||v)&&(i.pathname+="/"),i}const te=e=>e.join("/").replace(/\/\/+/g,"/"),ne=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,re=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,ae=["post","put","patch","delete"];[...ae];/**
 * React Router v6.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function se(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const oe=typeof Object.is=="function"?Object.is:se,{useState:le,useEffect:ie,useLayoutEffect:ce,useDebugValue:ue}=L;function he(e,t,n){const a=t(),[{inst:r},o]=le({inst:{value:a,getSnapshot:t}});return ce(()=>{r.value=a,r.getSnapshot=t,U(r)&&o({inst:r})},[e,a,t]),ie(()=>(U(r)&&o({inst:r}),e(()=>{U(r)&&o({inst:r})})),[e]),ue(a),a}function U(e){const t=e.getSnapshot,n=e.value;try{const a=t();return!oe(n,a)}catch(a){return!0}}function fe(e,t,n){return t()}const de=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",pe=!de,me=pe?fe:he;"useSyncExternalStore"in L&&(e=>e.useSyncExternalStore)(L);const J=u.createContext(null),B=u.createContext(null),ve=u.createContext({outlet:null,matches:[]});function I(){return u.useContext(B)!=null}function z(){return I()||x(!1),u.useContext(B).location}function ge(){I()||x(!1);let{basename:e,navigator:t}=u.useContext(J),{matches:n}=u.useContext(ve),{pathname:a}=z(),r=JSON.stringify(Z(n).map(s=>s.pathnameBase)),o=u.useRef(!1);return u.useEffect(()=>{o.current=!0}),u.useCallback(function(s,i){if(i===void 0&&(i={}),!o.current)return;if(typeof s=="number"){t.go(s);return}let h=ee(s,JSON.parse(r),a,i.relative==="path");e!=="/"&&(h.pathname=h.pathname==="/"?e:te([e,h.pathname])),(i.replace?t.replace:t.push)(h,i.state,i)},[e,t,r,a])}var F;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(F||(F={}));var k;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(k||(k={}));function ye(e){let{basename:t="/",children:n=null,location:a,navigationType:r=S.Pop,navigator:o,static:l=!1}=e;I()&&x(!1);let s=t.replace(/^\/*/,"/"),i=u.useMemo(()=>({basename:s,navigator:o,static:l}),[s,o,l]);typeof a=="string"&&(a=C(a));let{pathname:h="/",search:v="",hash:g="",state:y=null,key:E="default"}=a,P=u.useMemo(()=>{let p=Q(h,s);return p==null?null:{pathname:p,search:v,hash:g,state:y,key:E}},[s,h,v,g,y,E]);return P==null?null:u.createElement(J.Provider,{value:i},u.createElement(B.Provider,{children:n,value:{location:P,navigationType:r}}))}var q;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(q||(q={}));new Promise(()=>{});/**
 * React Router DOM v6.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function O(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(r=>[n,r]):[[n,a]])},[]))}function Se(e,t){let n=O(e);if(t)for(let a of t.keys())n.has(a)||t.getAll(a).forEach(r=>{n.append(a,r)});return n}function xe(e){let{basename:t,children:n,window:a}=e,r=u.useRef();r.current==null&&(r.current=H({window:a,v5Compat:!0}));let o=r.current,[l,s]=u.useState({action:o.action,location:o.location});return u.useLayoutEffect(()=>o.listen(s),[o]),u.createElement(ye,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}var $;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})($||($={}));var T;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(T||(T={}));function Pe(e){let t=u.useRef(O(e)),n=u.useRef(!1),a=z(),r=u.useMemo(()=>Se(a.search,n.current?null:t.current),[a.search]),o=ge(),l=u.useCallback((s,i)=>{const h=O(typeof s=="function"?s(r):s);n.current=!0,o("?"+h,i)},[o,r]);return[r,l]}const we=e=>{console.log("Resetting..."),document.getElementById("main-search-form").reset(),document.getElementById("date-filter-form").reset(),e({q:""}),window.location.reload(!1)},Ee=e=>{const{query:t,url:n,setParams:a}=e;return f.jsx("form",{className:"results-search",id:"main-search-form",role:"search","aria-label":"full-text search",action:n,method:"GET",children:f.jsxs("div",{className:"search-bar-wrapper",children:[f.jsx("input",{type:"search",name:"q",title:"Search query",defaultValue:t}),f.jsxs("div",{className:"button-wrapper",children:[f.jsx("button",{className:"clear-search",type:"reset",onClick:()=>we(a),children:"Clear"}),f.jsx("button",{className:"button search-button",type:"submit",children:"Search"})]})]})})},je=e=>{const[t,n]=Pe();return f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"h4",children:"Search the archive"}),f.jsxs("div",{className:"full-width",children:[f.jsx(Ee,{query:t.get("q"),setParams:n}),f.jsx("div",{className:"show-advanced-search",children:f.jsx("a",{children:"Advanced Search"})}),f.jsx("p",{})]})]})};D.createRoot(document.getElementById("search")).render(f.jsx(G.StrictMode,{children:f.jsx(xe,{children:f.jsx(je,{})})}));
